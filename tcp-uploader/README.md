Not finished yet...

TODO:

1. Fix getting filename
2. Fix getting ext
3. Better logging
